// --- ÜNİTE SEÇİMİ VE GÜNCELLEME ---
function selectUnit(type, value) {
    if (type === 'input') { 
        if (value === currentOutputUnit) currentOutputUnit = currentInputUnit; 
        currentInputUnit = value; 
    } else { 
        if (value === currentInputUnit) currentInputUnit = currentOutputUnit; 
        currentOutputUnit = value; 
    }
    renderPills(); 
    performConversion();
}

function renderPills() { 
    // Burada textContent kullanarak veriyi olduğu gibi (On Altılık vs.) yazdırıyoruz
    pillInputLabel.textContent = currentInputUnit; 
    pillOutputLabel.textContent = currentOutputUnit; 
    dropdownInput.classList.remove('show'); 
    dropdownOutput.classList.remove('show'); 
}

// Dropdown menüsünü oluşturan kısım
function renderDropdowns(mode) {
    const options = unitData[mode] || [];
    // Varsayılan atamalar (Birim listesindeki yazım şeklini korur)
    if (mode === "Sayı") { currentInputUnit = "Onluk (10)"; currentOutputUnit = "Anatolya (12)"; }
    else if (mode === "Alfabe") { currentInputUnit = "Eski Alfabe"; currentOutputUnit = "Yeni Alfabe"; }
    else { currentInputUnit = options[0]; currentOutputUnit = options[1] || options[0]; }

    const createItems = (type) => options.map(opt => 
        `<div class="dropdown-item" onclick="selectUnit('${type}', '${opt}')">${opt}</div>`
    ).join('');
    
    dropdownInput.innerHTML = createItems('input'); 
    dropdownOutput.innerHTML = createItems('output');
    renderPills(); 
    performConversion();
}
